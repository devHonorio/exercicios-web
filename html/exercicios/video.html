<h1>Video</h1>
<video
	id="meuVideo"
	width="800"
	height="450"
	controls
	autoplay
	controlsList="nodownload"
>
	<!-- Tag que possibilita ter varios caminhos em uma mesma tag -->
	<source src="http://files.cod3r.com.br/curso-web/video.mp4" />
</video>
<div wm-progresso="meuVideo" class="progresso">
	<div></div>
</div>
<div>
	<button wm-play="meuVideo">Play</button>
	<button wm-pause="meuVideo" onclick="">Pause</button>
</div>

<script>
	function configurarVideo(id) {
		const video = document.getElementById(id)
		// Propiedade de video que retira o menu de contexto do video
		video.oncontextmenu = () => false
		// Propiedade de video que da play
		document.querySelector(`[wm-play=${id}]`).onclick = (e) => video.play()
		// Propiedade de video que pausa
		document.querySelector(`[wm-pause=${id}]`).onclick = (e) => video.pause()

		setInterval(() => {
			// Propriedades da tag video para tempo atual e tempo limite
			const percentual = (video.currentTime / video.duration) * 100
			console.log(video.currentTime)

			const valorDiv = document.querySelector(`[wm-progresso=${id}] > div`)
			valorDiv.style.width = `${percentual}%`
			// Propiedade de um tag para adicionar um texto HTML dentro de outro
			valorDiv.innerHTML = `${percentual.toFixed(1)}%`
		}, 500)
	}

	configurarVideo('meuVideo')
</script>
<style>
	.progresso {
		height: 20px;
		width: 500px;
		border: solid #444;
		margin: 20px;
	}

	.progresso > div {
		background-color: red;
		color: #fff;
		height: 100%;
		text-align: right;
		font-size: 14px;
		width: 0%;
	}
</style>
